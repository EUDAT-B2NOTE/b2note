<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>B2Note iframe component demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="">
     <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!-- imported CSS are concatenated and added automatically -->
    <script>
      /**
 * Defines the height of the iframe in the onload event.
 * @param {String} subject
 * @return None
 */
function load_iframe(subject){
  console.log('load_iframe')
	var iframe = window.parent.document.getElementById("b2note_iframe");
	var doc = iframe.contentDocument? iframe.contentDocument:
        iframe.contentWindow.document;
	iframe.style.visibility = 'hidden';
	iframe.style.height = "10px"; // reset to minimal height ...
	// IE opt. for bing/msn needs a bit added or scrollbar appears
	iframe.style.height = getDocHeight( doc ) + 4 + "px";
	iframe.style.visibility = 'visible';
	iframe.subject_tofeed=subject;
}

function show_iframe(subject){
  console.log('show_iframe')
	var iframe = window.parent.document.getElementById("b2note_iframe");
	iframe.style.visibility = 'visible';
	return true;
}
/**
 * Helper function which returns the higher value of the document height.
 * @param {Object} doc
 * @return {Number} height
 */
function getDocHeight(doc) {
    doc = doc || document;
    // stackoverflow.com/questions/1145850/
    var body = doc.body, html = doc.documentElement;
    var height = Math.max( body.scrollHeight, body.offsetHeight,
        html.clientHeight, html.scrollHeight, html.offsetHeight );
    return height;
}

    </script>
    <style>
	#header {height: auto !important; }

	#hostpage {background: #FFFFFF; }
	#content {background: #FFFFFF url("/static/images/bg_b2note.jpg") no-repeat fixed center center !important; padding-bottom: 40px;}

	#hostpage h1 {text-align: left;}
	footer {
	    /* background: #dddddd url("/static/images/decor-footer.png") no-repeat scroll right bottom; */
	    background: #f7f3e9 repeat-x scroll left top;
	    height: auto;
	    padding: 20px 40px;
	}
	#footer-content {
	    display: table;
	    margin: 0 auto;
	    padding-top: 10px;
	}
	#footer-content img {
	    float: left;
	    margin-right: 10px;
	}
	#footer-content p {
	    font-size: 11px;
	    width: 100%;
	}
	#footer-content a {
	    color: #e5601e;
	}

	.clearfix, clearfix::before {clear:both;}

	.navbar-nav > li > a {
	    padding-bottom: 5px;
	    padding-top: 5px;
	}

	footer .navbar-nav > li > a {
	    font-size: 11px;
	}
</style>

  </head>
  <body>
          <div class = "container">
            <h1>B2NOTE</h1>
                       <p>The EUDAT and EOSC-Hub annotation service<br><br></p>
        </div>

        <div class = "container">
            <h3>Use annotations to structure your data</h3>
            <p>An annotation is a keyword or commentary attached to a file, that explains or classifies it. With B2Note, you can easily create and manage your annotations. There exist 3 types of annotations in B2Note:</p>
            <ul>
                <li>The <b>semantic tag</b>, a keyword from an <b>ontology</b>;</li>
                <li>The <b>free-text keyword</b>, a keyword chosen by the user. If possible, use semantic tags over free-text keywords.</li>
                <li>The <b>comment</b>, a longer annotation</li>
            </ul>
            <p>B2Note is currently integrated in B2Share: access files with B2Share, then annotate them with B2Note.</p>
        </div>

        <div class = "container">
            <h3>How to use it</h3>
            <p>Here is how to access the B2NOTE console from a B2SHARE file record page.</p>
            <p><b>Step 1:</b> Pick a file in <a href="https://b2share.eudat.eu">B2SHARE</a>.</p>
            <p><b>Step 2:</b> Click on the arrow next to the file you want to annotate to reveal the annotation button.</p>
            <p style="text-align:center;"><img src="/b2note/Description_UseinB2SHARE.png" style="width:550px;"/></p>
            <p><b>Step 3:</b> Click on the button to show the widget. The widget should appear at the right of the browser window.</p>
            <p style="text-align:center;"><a href="https://b2share.eudat.eu" class="btn btn-primary" title="Click to be directed to B2SHARE." target="_blank"/>Access B2SHARE</a></p>
        </div>

        <div class = "container">
            <h3>Sandbox</h3>
            <p>Annotations are ony valuable if they make sense. If you want to make random annotations for trying B2Note, please use the <a href="https://b2note.bsc.es">sandbox</a>.</p>
        </div>

  </p>
    <div id="aucontainer" style="float:right;width:33%">
  </div>
          <div class = "container">

            <a class="btn btn-info" data-toggle="collapse" href="#collapse3"><strong>Further information</strong></a>

            <div id="collapse3" class="panel-collapse collapse in">

                <div class="panel-body">

                    <div class="clear"> </div>

                    <p>
                        The necessary information was collected by hand for a small subset of
                        files. <br /> However, it is expected that the information can easily
                        be gathered in an automated way by the actual file-hosting service.
                    </p>

                    <p>This information includes:</p>

                    <ul>

                        <li>The hyperlink address of the file (required).</li>
                        <li>A human-readable label for the hyperlink (optional).</li>

                    </ul>

                </div>

            </div>

        </div>
	<footer>
		<div id="footer-content">
			<div class="container">
				<div class="row">
					<div class="col-xs-12 col-sm-5 col-md-5">
						<p>
							EUDAT received funding from the European Union’s Horizon 2020 research and innovation programme under grant agreement No. 654065.
              <a href="http://www.eudat.eu/legal-notice" target="_blank">Legal Notice</a></p><p>
                            EOSC-Hub receives funding from the European Union’s Horizon 2020 research and innovation programme under grant agreement No. 777536.
                            <a href="https://www.eosc-hub.eu/" target="_blank">EOSC-Hub</a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</footer>

  </body>
</html>
